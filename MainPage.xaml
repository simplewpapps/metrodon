<Page
    x:Class="MastodonPlusPlus.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MastodonPlusPlus"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.BottomAppBar>
        <CommandBar>
            <AppBarButton Icon="Add" Label="choose instance" Click="ChangeInstance_Click"/>
            <CommandBar.SecondaryCommands>
                <AppBarButton Label="about" Click="About_Click"/>
            </CommandBar.SecondaryCommands>
        </CommandBar>
    </Page.BottomAppBar>

    <Grid x:Name="LayoutRoot">
        <Pivot Title="METRODON">
            <PivotItem Header="home">
                <ListView x:Name="TimelineListView" Background="Transparent">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Margin="0,0,0,0">
                                <TextBlock Text="{Binding Account}" FontWeight="Bold" FontSize="20"/>
                                <TextBlock Text="{Binding Content}" TextWrapping="Wrap" FontSize="24" Margin="0,0,0,15"/>

                                <ItemsControl ItemsSource="{Binding ImageUrls}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding}" Height="Auto" Width="Auto" Margin="0,0,0,15"/>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
                
            </PivotItem>
            <PivotItem Header="hashtags">
                <ListView x:Name="HashtagsListView" Background="Transparent" ItemsSource="{Binding Hashtags}">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Margin="0,0,0,0">
                                <TextBlock Text="{Binding Name}" TextWrapping="Wrap" FontSize="24" Margin="0,0,0,15"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </PivotItem>
            <PivotItem Header="instances">
                <ListView Background="Transparent"  IsItemClickEnabled="False">
                    <TextBlock Text="This page shows some popular instances. Just put the name of instance in text box when clicked on + to show the instance on home page, restart required. All servers are on https://joinmastodon.org/servers. DON'T PUT MASTODON.SOCIAL, IT WILL MAKE APP CRASH." FontSize="24" TextWrapping="Wrap" Margin="0,0,0,15" Foreground="Gray"/>
                    <TextBlock Text="mas.to" FontSize="24" TextWrapping="Wrap" Margin="0,0,0,15" Foreground="White"/>
                    <TextBlock Text="social.vivaldi.net" FontSize="24" TextWrapping="Wrap" Margin="0,0,0,15" Foreground="White"/>
                    <TextBlock Text="techhub.social" FontSize="24" TextWrapping="Wrap" Margin="0,0,0,15" Foreground="White"/>
                    <TextBlock Text="mstdn.ca" FontSize="24" TextWrapping="Wrap" Margin="0,0,0,15" Foreground="White"/>
                    <TextBlock Text="mastodon.com.pl" FontSize="24" TextWrapping="Wrap" Margin="0,0,0,15" Foreground="White"/>
                    <TextBlock Text="mastodon.xyz" FontSize="24" TextWrapping="Wrap" Margin="0,0,0,15" Foreground="White"/>
                </ListView>

            </PivotItem>
        </Pivot>

    </Grid>
</Page>
